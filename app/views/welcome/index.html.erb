<section class='container'>
<h2 class="text-light welcome-text">Connect to a FHIR server</h2>
	<% if @client %>
		<p class="text-success m-auto client-connected" style='text-align: center'>
			Connected to <%= cookies[:server_url] -%>
			Connected to <%= session[:server_url] -%>
		</p>
		<p class="text-success m-auto client-connected" style='text-align: center'>
			Patient <%= cookies[:patient_id] -%>
			Patient <%= session[:patient_id] -%>
		</p>
	<%else%>
		<p class="text-danger m-auto" style='text-align: center'>No Connection Established</p>
	<% end %>

	<section class='row col-12'>
		<div class='row'>
			<%= form_tag launch_path, method: 'get', class: 'form-inline welcome-form', id: 'server-form' do %>
				<div class='col'></div>
				<div class='form-group col-md-7 last'>
					<label class="float-left"> FHIR Server (e.g., http://localhost:8080/cpcds-server/fhir, or https://api.logicahealth.org/STU301withSynthea/data)</label>
					<%= text_field_tag :iss_url, cookies[:iss_url], class: 'form-control',
								placeholder: 'http://hapi.fhir.org/baseR4' %>
					<label class="float-left"> ClientID (for MITRE RI leave blank)</label>
					<%= text_field_tag :client_id, cookies[:client_id], class: 'form-control',
								placeholder: 'for MITRE RI leave blank' %>
					<label class="float-left"> Client Secret (for MITRE RI leave blank) </label>
					<%= text_field_tag :client_secret, cookies[:client_secret], class: 'form-control',
								placeholder: 'for MITRE RI leave blank' %>
					<%= button_tag 'Connect', class: 'btn btn-primary col-md-2 connect', id: 'server-url' %>
				</div>
				<div class='col'></div>
			<% end %>
		</div>
	</section>
</section>


